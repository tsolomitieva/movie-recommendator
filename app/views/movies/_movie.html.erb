
<div class="col-md-4 text-center">
    <%= turbo_frame_tag movie do %>
    <%= image_tag(poster_for_movie(movie),class:"poster mt-5")%>
    
    <p class="text-white mt-4 fw-light fs-4 mb-2"><%= movie.title %></p>
    
    <div class="d-inline p-2 fw-lighter text-white"><%= movie.year %></div>
    <div class="d-inline p-2 fw-lighter text-white"><%= image_tag 'imdb.png', class:"logo" %><%= movie.rating%></div> 
    <br>
    <br> 
    
    <% movie.categories.each do |category| %>
      <p class="d-inline  fw-lighter text-white"><%= category.name %></p>
      <% if category != movie.categories.last %>
        <p class="d-inline  fw-lighter text-white">|</p>
      <% end %>
    <%end%>
    
    <div class="btn-group" role="group" aria-label="Basic example">
      <!-- if movie is in user's list -->
      <% if current_user.users_movies.exists?(movie_id: movie.id, status: 0)%>
        <%= button_to "", delete_movie_status_movie_path(movie), method: :delete, class:"btn btn-outline-light  border rounded-pill mt-4 btn-outline bi bi-x-lg m-2"%>
         <%= button_to "", add_movie_status_movie_path(movie, status: 'like'), method: :post, class:"btn btn-outline-light  border rounded-pill mt-4 btn-outline bi bi-hand-thumbs-up m-2"%>
        <%= button_to "", add_movie_status_movie_path(movie, status: 'dislike') , method: :post, class:"btn btn-outline-light  border rounded-pill mt-4 btn-outline bi bi-hand-thumbs-down m-2"%>
     
      <!-- if user likes the movie -->
      <% elsif current_user.users_movies.exists?(movie_id: movie.id, status: 1)%>
      <%= button_to "", add_movie_status_movie_path(movie, status: 'want_to_see'), method: :post, class:"btn btn-outline-light  border rounded-pill mt-4 btn-outline bi bi-plus m-2"%>
        <%= button_to "", delete_movie_status_movie_path(movie), method: :delete, class:"btn btn-outline-light  border rounded-pill mt-4 btn-outline bi bi-hand-thumbs-up-fill m-2"%>
        <%= button_to "", add_movie_status_movie_path(movie, status: 'dislike'), method: :post, class:"btn btn-outline-light  border rounded-pill mt-4 btn-outline bi bi-hand-thumbs-down m-2"%>
      <!-- if user dilikes the movie -->
      <% elsif current_user.users_movies.exists?(movie_id: movie.id, status: 2)%>
      <%= button_to "", add_movie_status_movie_path(movie, status: 'want_to_see'), method: :post, class:"btn btn-outline-light  border rounded-pill mt-4 btn-outline bi bi-plus m-2"%>
        <%= button_to "", add_movie_status_movie_path(movie, status: 'like'), method: :post, class:"btn btn-outline-light  border rounded-pill mt-4 btn-outline bi bi-hand-thumbs-up m-2"%>
        <%= button_to "", delete_movie_status_movie_path(movie), method: :delete, class:"btn btn-outline-light  border rounded-pill mt-4 btn-outline bi bi-hand-thumbs-down-fill m-2"%>
      <%else%>
      <%= button_to "", add_movie_status_movie_path(movie, status: 'want_to_see'), method: :post, class:"btn btn-outline-light  border rounded-pill mt-4 btn-outline bi bi-plus m-2"%>
        <%= button_to "", add_movie_status_movie_path(movie, status: 'like'), method: :post, class:"btn btn-outline-light  border rounded-pill mt-4 btn-outline bi bi-hand-thumbs-up m-2"%>
        <%= button_to "", add_movie_status_movie_path(movie, status: 'dislike') , method: :post, class:"btn btn-outline-light  border rounded-pill mt-4 btn-outline bi bi-hand-thumbs-down m-2"%>
      <%end%>
      <%= link_to "More", movie_path(movie), class:"btn btn-outline-light  border rounded-pill mt-4 btn-outline m-2" %>
    </div>
   <%end%>
  
</div>
